<!DOCTYPE html>
<html lang="cs">
<head>
  
    <title>Old_blogs :: Jan Malčák</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="" />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://jan.malcak.cz/old_blog/" />




<link rel="stylesheet" href="https://jan.malcak.cz/assets/style.css">






<link rel="apple-touch-icon" href="https://jan.malcak.cz/img/apple-touch-icon-192x192.png">

  <link rel="shortcut icon" href="https://jan.malcak.cz/img/favicon/orange.png">



<meta name="twitter:card" content="summary_large_image" />

  <meta name="twitter:image" content="https://jan.malcak.cz/old_blog/%!s()">
  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="cs" />
<meta property="og:type" content="website" />
<meta property="og:title" content="Old_blogs">
<meta property="og:description" content="" />
<meta property="og:url" content="https://jan.malcak.cz/old_blog/" />
<meta property="og:site_name" content="Jan Malčák" />

  
    <meta property="og:image" content="https://jan.malcak.cz/img/favicon/orange.png">
  

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">





  <link href="/old_blog/index.xml" rel="alternate" type="application/rss+xml" title="Jan Malčák" />









</head>
<body class="orange">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Hlavní stránka
  </div>
</a>

    </div>
    
  </div>
  
</header>


  <div class="content">
    
  
  <div class="posts">
    
      <div class="post on-list">
        <h1 class="post-title">
          <a href="https://jan.malcak.cz/kam-s-ni/">Kam s ní</a>
        </h1>
        <div class="post-meta">
          <span class="post-date">
            2016-02-04
          </span>
          
            <span class="post-author">:: Jan Malčák</span>
          
        </div>

        
          <span class="post-tags">
            
            #<a href="https://jan.malcak.cz/tags/blog/">blog</a>&nbsp;
            
          </span>
        

        


      
        <div class="post-content">
          
            Za chvíli mě čeká opravdová zkouška dospělosti - maturita. A i když je nadpis lehce zavádějící, věřím, že by se naše učitelka češtiny nad touto parafrází nerudova fejetonu alespoň pousmála. Přes časový odstup nás oba pojí stejný problém. Potřebujeme někam něco zašit. Jen snad <em>to něco</em> se změnilo. Se slamníkem bych totiž věděl co a jak.
          
        </div>

        
        <div>
          <a class="read-more button"
            href="/kam-s-ni/">Přečíst →</a>
        </div>
        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title">
          <a href="https://jan.malcak.cz/arduino-odpojeni-pri-nahravani-programu/">Arduino: Odpojení při nahrávání programu</a>
        </h1>
        <div class="post-meta">
          <span class="post-date">
            2015-03-14
          </span>
          
            <span class="post-author">:: Jan Malčák</span>
          
        </div>

        
          <span class="post-tags">
            
            #<a href="https://jan.malcak.cz/tags/tutori%C3%A1l/">tutoriál</a>&nbsp;
            
            #<a href="https://jan.malcak.cz/tags/linux/">linux</a>&nbsp;
            
            #<a href="https://jan.malcak.cz/tags/programov%C3%A1n%C3%AD/">programování</a>&nbsp;
            
            #<a href="https://jan.malcak.cz/tags/cpp/">cpp</a>&nbsp;
            
          </span>
        

        


      
        <div class="post-content">
          
            <p>Při experimentování s Arduinem jsem narazil na podivný problém. Po několika malých úpravách kódu mi editor při nahrávání programu hlásil</p>
<pre><code>Error opening serial port '/dev/ttyACM1'
</code></pre>
<p>To vše doplněné dlouhým výpisem kde se chyba vyskytla.</p>
<p>Jako by to nestačilo, Arduino se poté odpojí. Pro připojení bylo nutné vytáhnout a opět zastrčit napájecí USB kabel. Tím se bohužel problém s odpojováním nevyřešil. Obšírným nahlédnutím do složky <code>/dev</code> jsem zjistil, že soubor <code>ttyACM1</code> existuje. Příkaz <code>lsusb</code> Arduino našel. Problém tedy musel být někde jinde.</p>
<p>Problém přetrvával i po změně zdrojového kódu či načtení některého z příkladů. Nezbylo mi tak, než použít Google. Dle všeho šlo o přepsání hodnoty:</p>
<pre><code>Serial.begin(9600);
</code></pre>
<p>na</p>
<pre><code>Serial.begin(14400);
</code></pre>
<p>Nová hodnota se uloží do uživatelského nastavení. Z nějakého mě neznámého důvodu zůstane tato hodnota v nastavení &ldquo;zadrblá&rdquo; i po opětovné úpravě zdrojáků. Je tedy nutné smazat soubor s nastavením (u mě <code>~/arduino/preferences.txt</code> a restartovat editor.</p>

          
        </div>

        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title">
          <a href="https://jan.malcak.cz/sdl2-snimek-obrazovky/">SDL2: Snímek obrazovky</a>
        </h1>
        <div class="post-meta">
          <span class="post-date">
            2014-03-19
          </span>
          
            <span class="post-author">:: Jan Malčák</span>
          
        </div>

        
          <span class="post-tags">
            
            #<a href="https://jan.malcak.cz/tags/programov%C3%A1n%C3%AD/">programování</a>&nbsp;
            
            #<a href="https://jan.malcak.cz/tags/tutori%C3%A1l/">tutoriál</a>&nbsp;
            
            #<a href="https://jan.malcak.cz/tags/cpp/">cpp</a>&nbsp;
            
          </span>
        

        


      
        <div class="post-content">
          
            SDL s sebou ve druhé verzi přinesl i změnu vykreslování na obrazovku. Místo v RAM uložených SDL_Surface je v SDL2 použita SDL_Texture uložená na video RAM, kde je plně v jurisdikci GPU. Krom citelných změn na rychlost vykreslování se také změnil způsob, jakým lze zachytit snímek obrazovky.
Při použití textur se SDL_Surface okna neaktualizuje, pokud bychom použili dřívější způsob, dostali bychom prázdný snímek. Bohužel standardní funkce SDL_SaveBMP (ani její nedokumentovaná obdoba v rozšíření SDL_image - IMG_SavePNG) nepodporuje uložení SDL_Texture.
          
        </div>

        
        <div>
          <a class="read-more button"
            href="/sdl2-snimek-obrazovky/">Přečíst →</a>
        </div>
        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title">
          <a href="https://jan.malcak.cz/android-horizontalni-cara/">Android: Horizontální čára</a>
        </h1>
        <div class="post-meta">
          <span class="post-date">
            2013-08-28
          </span>
          
            <span class="post-author">:: Jan Malčák</span>
          
        </div>

        
          <span class="post-tags">
            
            #<a href="https://jan.malcak.cz/tags/tutori%C3%A1l/">tutoriál</a>&nbsp;
            
            #<a href="https://jan.malcak.cz/tags/android/">android</a>&nbsp;
            
            #<a href="https://jan.malcak.cz/tags/programov%C3%A1n%C3%AD/">programování</a>&nbsp;
            
          </span>
        

        


      
        <div class="post-content">
          
            <p>V Androidu neexistuje (alespoň o tom nevím) žádná nativní cesta jak vytvořit horizontální čáru. Naštěstí si jde vypomoci i jinak:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;View</span>
    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;1dip&#34;</span>
    <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;#000000&#34;</span><span style="color:#f92672">&gt;</span>
</code></pre></div>
          
        </div>

        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title">
          <a href="https://jan.malcak.cz/generovani-html-z-php-poli/">Generování HTML z PHP polí</a>
        </h1>
        <div class="post-meta">
          <span class="post-date">
            2013-08-28
          </span>
          
            <span class="post-author">:: Jan Malčák</span>
          
        </div>

        
          <span class="post-tags">
            
            #<a href="https://jan.malcak.cz/tags/tutori%C3%A1l/">tutoriál</a>&nbsp;
            
            #<a href="https://jan.malcak.cz/tags/programov%C3%A1n%C3%AD/">programování</a>&nbsp;
            
            #<a href="https://jan.malcak.cz/tags/php/">php</a>&nbsp;
            
          </span>
        

        


      
        <div class="post-content">
          
            <p>Při výpisu objemných PHP polí byli mými nejlepšími společníky funkce <code>print_r()</code> a <code>var_dump()</code>. Výpis z nich se navíc musí dále obalit přinejmenším do tagů <code>pre</code>, aby výstup byl alespoň trochu čitelný. Navíc postup, který jsem k tomu používal:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#34;&lt;pre&gt;&#34;</span>;<span style="color:#a6e22e">print_r</span>($promenna);<span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#34;&lt;/pre&gt;&#34;</span>;
</code></pre></div><p>se mi v kódu vůbec nelíbil. Proto jsem si vytvořil třídu, která formátování obstará za mě. Tak vznikla třída <code>Tabletizer</code>. Díky ní je vytvoření pěkné tabulky otázkou pár řádků:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">$table <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Tabletizer</span>();
<span style="color:#66d9ef">echo</span> $table<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">fromArray</span>($promenna);
</code></pre></div><p>Jasně, řádky neušetřím, ale vypadá to o mnoho lépe.</p>
<p><strong>Poznámka z roku 2018:</strong> Zpětně by bylo vhodnější využít kratší název třídy a metodu <code>fromArray</code> udělat statickou.</p>
<p>A to je vše. Výstupem může být třeba i takováto tabulka.</p>

  <figure class="left" >
    <img src="https://github.com/malja/archive/blob/master/php/Tabletizer/website/img/tabletizer.png?raw=true"  alt="Tabletizer"   />
    
      <figcaption class="center" >Tabletizer</figcaption>
    
  </figure>


<p>Díky tomu, že hlavní tabulce je přiřazena třída <code>.tabletizer</code>, je velice jednoduché vytvořit si jakýkoli styl, který sedí do okolního &ldquo;prostředí&rdquo;. Vzhled tabulky si je možné jakkoli přizpůsobit.</p>
<p>Odkaz ke stažení, spolu s návodem a seznamem změn je možné najít na <a href="https://github.com/malja/archive/tree/master/php/Tabletizer">této stránce</a></p>

          
        </div>

        
      </div>
    
    <div class="pagination">
  <div class="pagination__buttons">
    
      <span class="button previous">
        <a href="/old_blog/page/2/">
          <span class="button__icon">←</span>
          <span class="button__text">Novější</span>
        </a>
      </span>
    
    
      <span class="button next">
        <a href="/old_blog/page/4/">
          <span class="button__text">Starší</span>
          <span class="button__icon">→</span>
        </a>
      </span>
    
  </div>
</div>

  </div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">
        <span>Po nocích píše Honza</span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="https://jan.malcak.cz/assets/main.js"></script>
<script src="https://jan.malcak.cz/assets/prism.js"></script>







  
</div>

</body>
</html>
